"use strict";
exports.__esModule = true;
exports.createInsightsClient = void 0;
var insights_1 = require("./insights");
var getRequesterForBrowser_1 = require("./utils/getRequesterForBrowser");
var _processQueue_1 = require("./_processQueue");
var package_json_1 = require("../package.json");
function createInsightsClient(requestFn) {
    var instance = new insights_1["default"]({ requestFn: requestFn });
    if (typeof window === "object") {
        // Process queue upon script execution
        _processQueue_1.processQueue.call(instance, window);
    }
    instance.version = package_json_1.version;
    return instance;
}
exports.createInsightsClient = createInsightsClient;
exports["default"] = createInsightsClient(getRequesterForBrowser_1.getRequesterForBrowser());
